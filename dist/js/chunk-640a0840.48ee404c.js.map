{"version":3,"sources":["webpack:///./src/routers/jieshou.vue","webpack:///./src/routers/jieshou.vue?2e5f","webpack:///./src/routers/formTest.vue","webpack:///./src/routers/formTest.vue?a417","webpack:///./src/service/jieshou.js"],"names":["class","data","tableData","arr","col","item","prop","label","name","width","key","default","type","deleteCol","scope","row","_id","handleSizeChange","handleCurrentChange","current-page","currentPage","page-sizes","page-size","layout","total","plain","showAddCard","components","formTest","setup","bid","then","code","getData","success","message","index","console","log","render","__scopeId","model","ruleForm","rules","ref","label-width","maxlength","phoneNumber","submitForm","resetForm","required","trigger","min","max","methods","this","$refs","validate","valid","dateTime","userName","$data","status","createTime","updateTime","$parent","formName","resetFields","modePath","getTableData","request","addTableData","body","method","deleteTableData"],"mappings":"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","file":"js/chunk-640a0840.48ee404c.js","sourcesContent":["<template>\n  <ElTable :data=\"tableData.arr\" class=\"w-full\">\n    <ElTableColumn v-for=\"item in col\" :prop=\"item.prop\" :label=\"item.name\" width=\"180\" :key=\"item\"/>\n    <ElTableColumn label=\"操作\">\n      <template #default=\"scope\">\n        <ElButton  type=\"primary\" class=\"mr-1\">编辑</ElButton>\n        <ElButton @click=\"deleteCol(scope.row._id)\" type=\"danger\">删除</ElButton>\n      </template>\n    </ElTableColumn>\n  </ElTable>\n  <div class=\"mt-2 flex \">\n    <ElPagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"currentPage\"\n        :page-sizes=\"[10, 20, 50, 100]\"\n        :page-size=\"10\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"100\">\n    </ElPagination>\n    <div class=\"flex-grow\"></div>\n    <ElButton plain type=\"primary\" @click=\"tableData.showAddCard = !tableData.showAddCard\" class=\"mr-5\">新增</ElButton>\n\n    <div v-show=\"tableData.showAddCard\">\n      <formTest />\n    </div>\n  </div>\n</template>\n\n<script>\nimport {reactive, ref} from \"vue\";\nimport {deleteTableData, getTableData} from \"@/service/jieshou\";\nimport formTest from \"@/routers/formTest\";\nimport {ElMessage} from \"element-plus\";\n\nconst col = [\n  {name: \"接收号码\", prop: \"phoneNumber\"},\n  {name: \"姓名\", prop: \"userName\"},\n  {name: \"接收状态\", prop: \"status\"},\n  {name: \"创建时间\", prop: \"createTime\"},\n  {name: \"更新时间\", prop: \"updateTime\"},\n]\n\nexport default {\n  name: \"jieshou\",\n  components:{formTest},\n  setup() {\n    let tableData = reactive({\n      arr: [],\n      showAddCard: false\n    })\n\n    function deleteCol(bid) {\n      deleteTableData(bid).then(({code, data}) => {\n        if(code===200){\n          getData()\n          ElMessage.success({\n            message: data,\n            type: 'success'\n          });\n        }\n      })\n    }\n\n    function handleSizeChange(index) {\n      console.log(index)\n    }\n\n    function handleCurrentChange(index) {\n      console.log(index)\n    }\n\n    const currentPage = ref(1)\n\n    function getData() {\n      getTableData().then(({data}) => {\n        tableData.arr = data\n      })\n    }\n    getData()\n    return {\n      tableData, col, deleteCol, handleSizeChange, handleCurrentChange, currentPage, getData\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { render } from \"./jieshou.vue?vue&type=template&id=1173c80c&scoped=true\"\nimport script from \"./jieshou.vue?vue&type=script&lang=js\"\nexport * from \"./jieshou.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-1173c80c\"\n\nexport default script","<template>\n  <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n    <el-form-item label=\"名称\" prop=\"name\">\n      <el-input v-model=\"ruleForm.name\"/>\n    </el-form-item>\n    <el-form-item label=\"手机号码\" prop=\"phoneNumber\">\n      <el-input maxlength=\"11\" v-model=\"ruleForm.phoneNumber\"/>\n    </el-form-item>\n    <el-form-item>\n      <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">立即创建</el-button>\n      <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n<script>\nimport {defineComponent} from \"vue\";\nimport {addTableData} from \"@/service/jieshou\";\nimport {dateFormat} from \"@/utils/format\";\nimport {ElMessage} from \"element-plus\";\n\nexport default defineComponent({\n  data() {\n    return {\n      ruleForm: {\n        name: '',\n        phoneNumber: ''\n      },\n      rules: {\n        name: [\n          {required: true, message: '请输入活动名称', trigger: 'blur'},\n          {min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur'}\n        ],\n        phoneNumber: [\n          {required: true, message: '请输入手机号码', trigger: 'blur'},\n          {min: 11, max: 11, message: '长度为11个字符', trigger: 'blur'}\n        ]\n      }\n    };\n  },\n  methods: {\n    submitForm() {\n\n      this.$refs.ruleForm.validate((valid) => {\n        if (valid) {\n          const dateTime = dateFormat()\n          addTableData({\n            userName: this.$data.ruleForm.name,\n            phoneNumber: this.$data.ruleForm.phoneNumber,\n            status: \"接收中\",\n            createTime: dateTime,\n            updateTime: dateTime,\n          }).then(({code, data}) => {\n            if (code === 200) {\n              ElMessage.success({\n                message: data,\n                type: 'success'\n              });\n              this.$parent.getData()\n\n            }\n          })\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n})\n</script>","import { render } from \"./formTest.vue?vue&type=template&id=1347b79e\"\nimport script from \"./formTest.vue?vue&type=script&lang=js\"\nexport * from \"./formTest.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import {request} from \"./request\";\n\nconst modePath = \"jieshou\"\n\nexport async function getTableData() {\n    return await request(`${modePath}/get`,)\n}\nexport async function addTableData(body) {\n    return await request(`${modePath}/append`, {body, method: 'POST'})\n}\n\nexport async function deleteTableData(bid) {\n    return await request(`${modePath}/delete/${bid}`,)\n}\n"],"sourceRoot":""}